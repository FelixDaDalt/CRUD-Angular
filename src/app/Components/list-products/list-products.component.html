<div class="container mt-5 mb-5">
    
    <div class="d-flex justify-content-center row">
        <button type="button" class="btn btn-success" (click)="addProduct(addProductModal)">Agregar Producto</button>
        <div class="col-md-10" *ngFor="let product of listProducts">
            <div class="row p-2 bg-white border rounded">
                <div class="col-md-3 mt-1"><img class="img-fluid img-responsive rounded product-image" src="{{product.thumbnail}}"></div>
                <div class="col-md-6 mt-1">
                    <h5>{{product.title}}</h5>
                    <p class="text-justify text-truncate para mb-0">{{product.description}}<br><br></p>
                </div>
                <div class="align-items-center align-content-center col-md-3 border-left mt-1">
                    <div class="d-flex flex-row align-items-center">
                        <h4 class="mr-1">${{product.price}}</h4>
                    </div>
                    <h6 class="text-success">Envio Gratis</h6>
                    <div class="d-flex flex-column mt-4"><button class="btn btn-primary btn-sm" type="button" (click)="getProduct(product.id,productDetail)">Detalle</button>
                        <button class="btn btn-danger btn-sm" type="button" (click)="deleteProduct(product)">Borrar</button></div>
                </div>
            </div>
        </div>
    </div>
</div>


<ng-template #productDetail let-modal>
    <div class="container mt-5 mb-5">
        <div class="d-flex justify-content-center row">
            <div class="col-md-10">
                <div class="row p-2 bg-white border rounded align-items-center align-content-center">
                    <div><img class="img-fluid img-responsive rounded product-image" src="{{singleProduct.thumbnail}}"></div>
                    <div>
                        <h5><input type="text" name="title" [(ngModel)]="title" placeholder="{{singleProduct.title}}"/></h5>
                        <p class="text-justify text-truncate para mb-0"><input type="text" name="descripcion" [(ngModel)]="descripcion" placeholder="{{singleProduct.description}}"/><br><br></p>
                    </div>
                    <div>
                        <div class="d-flex flex-row align-items-center">
                            <h4 class="mr-1"><input type="number" name="precio" [(ngModel)]="precio" placeholder="${{singleProduct.price}}"></h4>
                        </div>
                        <h6 class="text-success">Envio Gratis</h6>
                        <div class="d-flex flex-column mt-4"><button class="btn btn-primary btn-sm" type="button" (click)="modal.close()">Editar</button><button class="btn btn-outline-primary btn-sm mt-2" type="button" (click)="modal.close()">Cerrar</button></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #addProductModal let-modal>
    <div class="container-fluid px-1 py-5 mx-auto">
        <div class="row d-flex justify-content-center">
            <div class="col-xl-7 col-lg-8 col-md-9 col-11 text-center">
                <h3>Agregar Producto</h3>
                <p class="blue-text">Por Favor complete todos los campos</p>
                <div class="card">
                    <h5 class="text-center mb-4">Datos del Nuevo producto</h5>
                    <form class="form-card" onsubmit="event.preventDefault()" >
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Nombre<span class="text-danger"> *</span></label> <input type="text" name="title" [(ngModel)]="title"> </div>
                            <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Descripcion<span class="text-danger"> *</span></label> <input type="text" name="descripcion" [(ngModel)]="descripcion"> </div>
                        </div>
                        <div class="row justify-content-between text-left">
                            <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Precio<span class="text-danger"> *</span></label> <input type="number" name="precio" [(ngModel)]="precio"> </div>
                            <div class="form-group col-sm-6 flex-column d-flex"> <label class="form-control-label px-3">Url imagen<span class="text-danger"> *</span></label> <input type="url" name="thumbnail" [(ngModel)]="thumbnail"> </div>
                        </div>
                        <div class="row justify-content-end">
                            <div class="form-group col-sm-6"> <button type="button" class="btn btn-success" (click)="modal.close()">Agregar</button> </div>
                            <div class="form-group col-sm-6"> <button type="button" class="btn btn-danger" (click)="modal.dismiss()">Cancelar</button> </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</ng-template>